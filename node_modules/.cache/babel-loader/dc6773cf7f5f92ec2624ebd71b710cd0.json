{"remainingRequest":"/Users/tamunabachaliashvili/Desktop/vue-auth/node_modules/babel-loader/lib/index.js!/Users/tamunabachaliashvili/Desktop/vue-auth/node_modules/eslint-loader/index.js??ref--13-0!/Users/tamunabachaliashvili/Desktop/vue-auth/src/store.js","dependencies":[{"path":"/Users/tamunabachaliashvili/Desktop/vue-auth/src/store.js","mtime":1586379062033},{"path":"/Users/tamunabachaliashvili/Desktop/vue-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tamunabachaliashvili/Desktop/vue-auth/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tamunabachaliashvili/Desktop/vue-auth/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBzdGF0dXM6ICcnLAogICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpIHx8ICcnLAogICAgdXNlcjoge30sCiAgICB1c2VyczogW3sKICAgICAgJ25hbWUnOiAnVGVzdCcsCiAgICAgICdsYXN0bmFtZSc6ICdVc2VyJywKICAgICAgJ2VtYWlsJzogJ3Rlc3RAdGVzdC5jb20nLAogICAgICAnYWdlJzogJzIyJywKICAgICAgJ2FkZHJlc3MnOiAnNDk5IFdhc2hpbmd0b24gQmx2ZCwgSmVyc2V5IENpdHknCiAgICB9XQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhdXRoX3JlcXVlc3Q6IGZ1bmN0aW9uIGF1dGhfcmVxdWVzdChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnbG9hZGluZyc7CiAgICB9LAogICAgYXV0aF9zdWNjZXNzOiBmdW5jdGlvbiBhdXRoX3N1Y2Nlc3Moc3RhdGUsIHRva2VuLCB1c2VyKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdzdWNjZXNzJzsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgYXV0aF9lcnJvcjogZnVuY3Rpb24gYXV0aF9lcnJvcihzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnZXJyb3InOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICcnOwogICAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgfSwKICAgIGFkZFVzZXI6IGZ1bmN0aW9uIGFkZFVzZXIoc3RhdGUsIHVzZXIpIHsKICAgICAgY29uc29sZS5sb2codXNlcik7CiAgICAgIHN0YXRlLnVzZXJzLnB1c2goewogICAgICAgIG5hbWU6IHVzZXIubmFtZSwKICAgICAgICBsYXN0bmFtZTogdXNlci5sYXN0bmFtZSwKICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICBhZ2U6IHVzZXIuYWdlLAogICAgICAgIGFkZHJlc3M6IHVzZXIuYWRkcmVzcwogICAgICB9KTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGFkZFVzZXI6IGZ1bmN0aW9uIGFkZFVzZXIoY29udGV4dCwgdXNlcikgewogICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ2FkZFVzZXInLCB1c2VyKTsKICAgICAgfSwgOTAwKTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsKICAgICAgICBheGlvcyh7CiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvbG9naW4nLAogICAgICAgICAgZGF0YTogdXNlciwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIHVzZXIgPSByZXNwLmRhdGEudXNlcjsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsKICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB0b2tlbjsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJywgdG9rZW4sIHVzZXIpOwogICAgICAgICAgcmVzb2x2ZShyZXNwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb21taXQoJ2F1dGhfZXJyb3InKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihfcmVmMiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL3JlZ2lzdGVyJywKICAgICAgICAgIGRhdGE6IHVzZXIsCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3AuZGF0YS50b2tlbjsKICAgICAgICAgIHZhciB1c2VyID0gcmVzcC5kYXRhLnVzZXI7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHRva2VuLCB1c2VyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJywgZXJyKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ107CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogICAgfSwKICAgIHVzZXJMaXN0OiBmdW5jdGlvbiB1c2VyTGlzdChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcnM7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/Users/tamunabachaliashvili/Desktop/vue-auth/src/store.js"],"names":["Vue","Vuex","axios","use","Store","state","status","token","localStorage","getItem","user","users","mutations","auth_request","auth_success","auth_error","logout","addUser","console","log","push","name","lastname","email","age","address","actions","context","setTimeout","commit","login","Promise","resolve","reject","url","data","method","then","resp","setItem","defaults","headers","common","catch","err","removeItem","register","getters","isLoggedIn","authStatus","userList"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE,EADL;AAEHC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAFrC;AAGHC,IAAAA,IAAI,EAAE,EAHH;AAIHC,IAAAA,KAAK,EAAE,CACH;AACI,cAAQ,MADZ;AAEI,kBAAY,MAFhB;AAGI,eAAS,eAHb;AAII,aAAO,IAJX;AAKI,iBAAW;AALf,KADG;AAJJ,GADmB;AAe1BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,YADO,wBACMR,KADN,EACa;AAChBA,MAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACH,KAHM;AAIPQ,IAAAA,YAJO,wBAIMT,KAJN,EAIaE,KAJb,EAIoBG,IAJpB,EAI0B;AAC7BL,MAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACAD,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACAF,MAAAA,KAAK,CAACK,IAAN,GAAaA,IAAb;AACH,KARM;AASPK,IAAAA,UATO,sBASIV,KATJ,EASW;AACdA,MAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AACH,KAXM;AAYPU,IAAAA,MAZO,kBAYAX,KAZA,EAYO;AACVA,MAAAA,KAAK,CAACC,MAAN,GAAe,EAAf;AACAD,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACH,KAfM;AAgBPU,IAAAA,OAhBO,mBAgBCZ,KAhBD,EAgBQK,IAhBR,EAgBc;AACjBQ,MAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AACAL,MAAAA,KAAK,CAACM,KAAN,CAAYS,IAAZ,CAAiB;AACbC,QAAAA,IAAI,EAAEX,IAAI,CAACW,IADE;AAEbC,QAAAA,QAAQ,EAAEZ,IAAI,CAACY,QAFF;AAGbC,QAAAA,KAAK,EAAEb,IAAI,CAACa,KAHC;AAIbC,QAAAA,GAAG,EAAEd,IAAI,CAACc,GAJG;AAKbC,QAAAA,OAAO,EAAEf,IAAI,CAACe;AALD,OAAjB;AAOH;AAzBM,GAfe;AA0C1BC,EAAAA,OAAO,EAAE;AACLT,IAAAA,OADK,mBACGU,OADH,EACYjB,IADZ,EACkB;AACnBQ,MAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AACIkB,MAAAA,UAAU,CAAC,YAAM;AACbD,QAAAA,OAAO,CAACE,MAAR,CAAe,SAAf,EAA0BnB,IAA1B;AACH,OAFS,EAEP,GAFO,CAAV;AAGH,KANA;AAOLoB,IAAAA,KAPK,uBAOapB,IAPb,EAOmB;AAAA,UAAhBmB,MAAgB,QAAhBA,MAAgB;AACpB,aAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCJ,QAAAA,MAAM,CAAC,cAAD,CAAN;AACA3B,QAAAA,KAAK,CAAC;AAAEgC,UAAAA,GAAG,EAAE,6BAAP;AAAsCC,UAAAA,IAAI,EAAEzB,IAA5C;AAAkD0B,UAAAA,MAAM,EAAE;AAA1D,SAAD,CAAL,CACKC,IADL,CACU,UAAAC,IAAI,EAAI;AACV,cAAM/B,KAAK,GAAG+B,IAAI,CAACH,IAAL,CAAU5B,KAAxB;AACA,cAAMG,IAAI,GAAG4B,IAAI,CAACH,IAAL,CAAUzB,IAAvB;AACAF,UAAAA,YAAY,CAAC+B,OAAb,CAAqB,OAArB,EAA8BhC,KAA9B;AACAL,UAAAA,KAAK,CAACsC,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDnC,KAAjD;AACAsB,UAAAA,MAAM,CAAC,cAAD,EAAiBtB,KAAjB,EAAwBG,IAAxB,CAAN;AACAsB,UAAAA,OAAO,CAACM,IAAD,CAAP;AACH,SARL,EASKK,KATL,CASW,UAAAC,GAAG,EAAI;AACVf,UAAAA,MAAM,CAAC,YAAD,CAAN;AACArB,UAAAA,YAAY,CAACqC,UAAb,CAAwB,OAAxB;AACAZ,UAAAA,MAAM,CAACW,GAAD,CAAN;AACH,SAbL;AAcH,OAhBM,CAAP;AAiBH,KAzBI;AA0BLE,IAAAA,QA1BK,2BA0BgBpC,IA1BhB,EA0BsB;AAAA,UAAhBmB,MAAgB,SAAhBA,MAAgB;AACvB,aAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCJ,QAAAA,MAAM,CAAC,cAAD,CAAN;AACA3B,QAAAA,KAAK,CAAC;AAAEgC,UAAAA,GAAG,EAAE,gCAAP;AAAyCC,UAAAA,IAAI,EAAEzB,IAA/C;AAAqD0B,UAAAA,MAAM,EAAE;AAA7D,SAAD,CAAL,CACKC,IADL,CACU,UAAAC,IAAI,EAAI;AACV,cAAM/B,KAAK,GAAG+B,IAAI,CAACH,IAAL,CAAU5B,KAAxB;AACA,cAAMG,IAAI,GAAG4B,IAAI,CAACH,IAAL,CAAUzB,IAAvB;AACAF,UAAAA,YAAY,CAAC+B,OAAb,CAAqB,OAArB,EAA8BhC,KAA9B;AACAL,UAAAA,KAAK,CAACsC,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDnC,KAAjD;AACAsB,UAAAA,MAAM,CAAC,cAAD,EAAiBtB,KAAjB,EAAwBG,IAAxB,CAAN;AACAsB,UAAAA,OAAO,CAACM,IAAD,CAAP;AACH,SARL,EASKK,KATL,CASW,UAAAC,GAAG,EAAI;AACVf,UAAAA,MAAM,CAAC,YAAD,EAAee,GAAf,CAAN;AACApC,UAAAA,YAAY,CAACqC,UAAb,CAAwB,OAAxB;AACAZ,UAAAA,MAAM,CAACW,GAAD,CAAN;AACH,SAbL;AAcH,OAhBM,CAAP;AAiBH,KA5CI;AA6CL5B,IAAAA,MA7CK,yBA6Cc;AAAA,UAAVa,MAAU,SAAVA,MAAU;AACf;AACA,aAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCJ,QAAAA,MAAM,CAAC,QAAD,CAAN;AACArB,QAAAA,YAAY,CAACqC,UAAb,CAAwB,OAAxB;AACA,eAAO3C,KAAK,CAACsC,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACAV,QAAAA,OAAO;AACV,OALM,CAAP;AAMH;AArDI,GA1CiB;AAiG1Be,EAAAA,OAAO,EAAE;AACLC,IAAAA,UAAU,EAAE,oBAAA3C,KAAK;AAAA,aAAI,CAAC,CAACA,KAAK,CAACE,KAAZ;AAAA,KADZ;AAEL0C,IAAAA,UAAU,EAAE,oBAAA5C,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAV;AAAA,KAFZ;AAGL4C,IAAAA,QAHK,oBAGI7C,KAHJ,EAGW;AACR,aAAOA,KAAK,CAACM,KAAb;AACP;AALI;AAjGiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        status: '',\n        token: localStorage.getItem('token') || '',\n        user: {},\n        users: [\n            {\n                'name': 'Test',\n                'lastname': 'User',\n                'email': 'test@test.com',\n                'age': '22',\n                'address': '499 Washington Blvd, Jersey City'\n            }\n        ]\n    },\n    mutations: {\n        auth_request(state) {\n            state.status = 'loading'\n        },\n        auth_success(state, token, user) {\n            state.status = 'success'\n            state.token = token\n            state.user = user\n        },\n        auth_error(state) {\n            state.status = 'error'\n        },\n        logout(state) {\n            state.status = ''\n            state.token = ''\n        },\n        addUser(state, user) {\n            console.log(user)\n            state.users.push({\n                name: user.name,\n                lastname: user.lastname,\n                email: user.email,\n                age: user.age,\n                address: user.address\n            })\n        },\n    },\n    actions: {\n        addUser(context, user) {\n            console.log(user)\n                setTimeout(() => {\n                    context.commit('addUser', user)\n                }, 900)\n            },\n        login({ commit }, user) {\n            return new Promise((resolve, reject) => {\n                commit('auth_request')\n                axios({ url: 'http://localhost:3000/login', data: user, method: 'POST' })\n                    .then(resp => {\n                        const token = resp.data.token\n                        const user = resp.data.user\n                        localStorage.setItem('token', token)\n                        axios.defaults.headers.common['Authorization'] = token\n                        commit('auth_success', token, user)\n                        resolve(resp)\n                    })\n                    .catch(err => {\n                        commit('auth_error')\n                        localStorage.removeItem('token')\n                        reject(err)\n                    })\n            })\n        },\n        register({ commit }, user) {\n            return new Promise((resolve, reject) => {\n                commit('auth_request')\n                axios({ url: 'http://localhost:3000/register', data: user, method: 'POST' })\n                    .then(resp => {\n                        const token = resp.data.token\n                        const user = resp.data.user\n                        localStorage.setItem('token', token)\n                        axios.defaults.headers.common['Authorization'] = token\n                        commit('auth_success', token, user)\n                        resolve(resp)\n                    })\n                    .catch(err => {\n                        commit('auth_error', err)\n                        localStorage.removeItem('token')\n                        reject(err)\n                    })\n            })\n        },\n        logout({ commit }) {\n            // eslint-disable-next-line no-unused-vars\n            return new Promise((resolve, reject) => {\n                commit('logout')\n                localStorage.removeItem('token')\n                delete axios.defaults.headers.common['Authorization']\n                resolve()\n            })\n        }\n    },\n    getters: {\n        isLoggedIn: state => !!state.token,\n        authStatus: state => state.status,\n        userList(state) {\n                return state.users\n        },\n    }\n})\n"]}]}